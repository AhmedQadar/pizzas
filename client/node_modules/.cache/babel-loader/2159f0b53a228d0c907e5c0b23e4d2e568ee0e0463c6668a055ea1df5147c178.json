{"ast":null,"code":"var _jsxFileName = \"/home/qadhar/pizzas/client/src/Components/PizzaForm.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PizzaForm({\n  restaurantId,\n  onAddPizza\n}) {\n  _s();\n  const [pizzas, setPizzas] = useState([]);\n  const [pizzaId, setPizzaId] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [formErrors, setFormErrors] = useState([]);\n  useEffect(() => {\n    fetch(\"/pizzas\").then(r => r.json()).then(setPizzas);\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = {\n      pizza_id: pizzaId,\n      restaurant_id: restaurantId,\n      price: parseInt(price)\n    };\n    try {\n      const response = await fetch(\"/restaurant_pizzas\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formData)\n      });\n      if (response.ok) {\n        const newPizza = await response.json();\n        onAddPizza(newPizza);\n        setFormErrors([]);\n      } else {\n        const err = await response.json();\n        setFormErrors(err.errors);\n      }\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    style: formStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"pizza_id\",\n      style: labelStyle,\n      children: \"Pizza:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"pizza_id\",\n      name: \"pizza_id\",\n      value: pizzaId,\n      onChange: e => setPizzaId(e.target.value),\n      style: inputStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a pizza\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), pizzas.map(pizza => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: pizza.id,\n        children: pizza.name\n      }, pizza.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"price\",\n      style: labelStyle,\n      children: \"Price:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: price,\n      onChange: e => setPrice(e.target.value),\n      style: inputStyle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), formErrors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: errorContainerStyle,\n      children: formErrors.map((err, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n        style: errorTextStyle,\n        children: err\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: buttonStyle,\n      children: \"Add To Restaurant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(PizzaForm, \"WBkRYUu7zxqybRhyC7RQTLuFbjk=\");\n_c = PizzaForm;\nconst formStyle = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  maxWidth: \"300px\",\n  margin: \"auto\"\n};\nconst labelStyle = {\n  marginBottom: \"5px\",\n  fontWeight: \"bold\"\n};\nconst inputStyle = {\n  padding: \"8px\",\n  marginBottom: \"10px\"\n};\nconst errorContainerStyle = {\n  margin: \"10px 0\"\n};\nconst errorTextStyle = {\n  color: \"red\"\n};\nconst buttonStyle = {\n  backgroundColor: \"#4caf50\",\n  color: \"white\",\n  border: \"none\",\n  padding: \"10px\",\n  cursor: \"pointer\"\n};\nexport default PizzaForm;\nvar _c;\n$RefreshReg$(_c, \"PizzaForm\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","PizzaForm","restaurantId","onAddPizza","_s","pizzas","setPizzas","pizzaId","setPizzaId","price","setPrice","formErrors","setFormErrors","fetch","then","r","json","handleSubmit","e","preventDefault","formData","pizza_id","restaurant_id","parseInt","response","method","headers","body","JSON","stringify","ok","newPizza","err","errors","error","console","onSubmit","style","formStyle","children","htmlFor","labelStyle","fileName","_jsxFileName","lineNumber","columnNumber","id","name","value","onChange","target","inputStyle","map","pizza","type","length","errorContainerStyle","index","errorTextStyle","buttonStyle","_c","display","flexDirection","maxWidth","margin","marginBottom","fontWeight","padding","color","backgroundColor","border","cursor","$RefreshReg$"],"sources":["/home/qadhar/pizzas/client/src/Components/PizzaForm.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nfunction PizzaForm({ restaurantId, onAddPizza }) {\n  const [pizzas, setPizzas] = useState([]);\n  const [pizzaId, setPizzaId] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [formErrors, setFormErrors] = useState([]);\n\n  useEffect(() => {\n    fetch(\"/pizzas\")\n      .then((r) => r.json())\n      .then(setPizzas);\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const formData = {\n      pizza_id: pizzaId,\n      restaurant_id: restaurantId,\n      price: parseInt(price),\n    };\n\n    try {\n      const response = await fetch(\"/restaurant_pizzas\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        const newPizza = await response.json();\n        onAddPizza(newPizza);\n        setFormErrors([]);\n      } else {\n        const err = await response.json();\n        setFormErrors(err.errors);\n      }\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} style={formStyle}>\n      <label htmlFor=\"pizza_id\" style={labelStyle}>\n        Pizza:\n      </label>\n      <select\n        id=\"pizza_id\"\n        name=\"pizza_id\"\n        value={pizzaId}\n        onChange={(e) => setPizzaId(e.target.value)}\n        style={inputStyle}\n      >\n        <option value=\"\">Select a pizza</option>\n        {pizzas.map((pizza) => (\n          <option key={pizza.id} value={pizza.id}>\n            {pizza.name}\n          </option>\n        ))}\n      </select>\n      <label htmlFor=\"price\" style={labelStyle}>\n        Price:\n      </label>\n      <input\n        type=\"number\"\n        value={price}\n        onChange={(e) => setPrice(e.target.value)}\n        style={inputStyle}\n      />\n      {formErrors.length > 0 && (\n        <div style={errorContainerStyle}>\n          {formErrors.map((err, index) => (\n            <p key={index} style={errorTextStyle}>\n              {err}\n            </p>\n          ))}\n        </div>\n      )}\n      <button type=\"submit\" style={buttonStyle}>\n        Add To Restaurant\n      </button>\n    </form>\n  );\n}\n\nconst formStyle = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  maxWidth: \"300px\",\n  margin: \"auto\",\n};\n\nconst labelStyle = {\n  marginBottom: \"5px\",\n  fontWeight: \"bold\",\n};\n\nconst inputStyle = {\n  padding: \"8px\",\n  marginBottom: \"10px\",\n};\n\nconst errorContainerStyle = {\n  margin: \"10px 0\",\n};\n\nconst errorTextStyle = {\n  color: \"red\",\n};\n\nconst buttonStyle = {\n  backgroundColor: \"#4caf50\",\n  color: \"white\",\n  border: \"none\",\n  padding: \"10px\",\n  cursor: \"pointer\",\n};\n\nexport default PizzaForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}